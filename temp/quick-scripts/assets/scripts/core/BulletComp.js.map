{"version":3,"sources":["BulletComp.js"],"names":["cc","Class","extends","Component","properties","speed","ctor","canvasSize","view","_originalDesignResolutionSize","onLoad","tween","node","repeatForever","by","y","start","update","width","destroy","onCollisionEnter","other","self","console","log","eventObj","Event","EventCustom","position","getPosition","dispatchEvent","onDestroy"],"mappings":";;;;;;AAAAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,eAAO;AADC,KAHP;;AAOLC,QAPK,kBAOE;AACH,aAAKC,UAAL,GAAkBP,GAAGQ,IAAH,CAAQC,6BAA1B;AACH,KATI;AAWLC,UAXK,oBAWI;AACLV,WAAGW,KAAH,CAAS,KAAKC,IAAd,EAAoBC,aAApB,CACIb,GAAGW,KAAH,GACKG,EADL,CACQ,CADR,EACW,EAAEC,GAAG,KAAKV,KAAV,EADX,CADJ,EAGKW,KAHL;AAIH,KAhBI;AAkBLC,UAlBK,oBAkBI;AACL,YAAI,KAAKL,IAAL,CAAUG,CAAV,GAAc,KAAKR,UAAL,CAAgBW,KAAhB,GAAwB,KAAKN,IAAL,CAAUM,KAApD,EAA2D;AACvD,iBAAKN,IAAL,CAAUO,OAAV;AACH;AACJ,KAtBI;AAwBLC,oBAxBK,4BAwBYC,KAxBZ,EAwBmBC,IAxBnB,EAwByB;AAC1BC,gBAAQC,GAAR,CAAY,oBAAZ;AACA,aAAKZ,IAAL,CAAUO,OAAV;;AAEA,YAAMM,WAAW,IAAIzB,GAAG0B,KAAH,CAASC,WAAb,CAAyB,eAAzB,EAA0C,IAA1C,CAAjB;AACAF,iBAASG,QAAT,GAAoB,KAAKhB,IAAL,CAAUiB,WAAV,EAApB;;AAEA,aAAKjB,IAAL,CAAUkB,aAAV,CAAwBL,QAAxB;AACH,KAhCI;AAkCLM,aAlCK,uBAkCO;AACR/B,WAAGwB,GAAH,CAAO,kBAAP;AACH;AApCI,CAAT","file":"BulletComp.js","sourceRoot":"../../../../../assets/scripts/core","sourcesContent":["cc.Class({\n    extends: cc.Component,\n\n    properties: {\n        speed: 100,\n    },\n\n    ctor() {\n        this.canvasSize = cc.view._originalDesignResolutionSize;\n    },\n\n    onLoad() {\n        cc.tween(this.node).repeatForever(\n            cc.tween()\n                .by(1, { y: this.speed }))\n            .start();\n    },\n\n    update() {\n        if (this.node.y > this.canvasSize.width + this.node.width) {\n            this.node.destroy();\n        }\n    },\n\n    onCollisionEnter(other, self) {\n        console.log('on collision enter');\n        this.node.destroy();\n\n        const eventObj = new cc.Event.EventCustom('BULLET_IMPACT', true);\n        eventObj.position = this.node.getPosition();\n\n        this.node.dispatchEvent(eventObj);\n    },\n\n    onDestroy() {\n        cc.log('Bullet destroyed');\n    },\n});\n"]}