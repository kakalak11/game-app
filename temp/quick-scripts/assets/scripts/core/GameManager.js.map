{"version":3,"sources":["GameManager.js"],"names":["cc","Class","extends","Component","properties","bulletHolder","Node","impactHolder","bulletPrefab","Prefab","impactPrefab","onLoad","on","createImpactVFX","node","createBullet","position","impact","instantiate","parent","setPosition","getComponent","Animation","play","bullet"],"mappings":";;;;;;AAAAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,sBAAcL,GAAGM,IADT;AAERC,sBAAcP,GAAGM,IAFT;;AAIRE,sBAAcR,GAAGS,MAJT;AAKRC,sBAAcV,GAAGS;AALT,KAHP;;AAWLE,UAXK,oBAWI;AACL,aAAKN,YAAL,CAAkBO,EAAlB,CAAqB,eAArB,EAAsC,KAAKC,eAA3C,EAA4D,IAA5D;AACA,aAAKC,IAAL,CAAUF,EAAV,CAAa,aAAb,EAA4B,KAAKG,YAAjC,EAA+C,IAA/C;AACH,KAdI;AAgBLF,mBAhBK,iCAgByB;AAAA,YAAZG,QAAY,QAAZA,QAAY;;AAC1B,YAAMC,SAASjB,GAAGkB,WAAH,CAAe,KAAKR,YAApB,CAAf;AACAO,eAAOE,MAAP,GAAgB,KAAKZ,YAArB;AACAU,eAAOG,WAAP,CAAmBJ,QAAnB;AACAC,eAAOI,YAAP,CAAoBrB,GAAGsB,SAAvB,EAAkCC,IAAlC;AACH,KArBI;AAuBLR,gBAvBK,+BAuBsB;AAAA,YAAZC,QAAY,SAAZA,QAAY;;AACvB,YAAMQ,SAASxB,GAAGkB,WAAH,CAAe,KAAKV,YAApB,CAAf;AACAgB,eAAOL,MAAP,GAAgB,KAAKd,YAArB;AACAmB,eAAOR,QAAP,GAAkBA,QAAlB;AACH;AA3BI,CAAT","file":"GameManager.js","sourceRoot":"../../../../../assets/scripts/core","sourcesContent":["cc.Class({\n    extends: cc.Component,\n\n    properties: {\n        bulletHolder: cc.Node,\n        impactHolder: cc.Node,\n\n        bulletPrefab: cc.Prefab,\n        impactPrefab: cc.Prefab,\n    },\n\n    onLoad() {\n        this.bulletHolder.on('BULLET_IMPACT', this.createImpactVFX, this);\n        this.node.on('BULLET_FIRE', this.createBullet, this);\n    },\n\n    createImpactVFX({ position }) {\n        const impact = cc.instantiate(this.impactPrefab);\n        impact.parent = this.impactHolder;\n        impact.setPosition(position);\n        impact.getComponent(cc.Animation).play();\n    },\n\n    createBullet({ position }) {\n        const bullet = cc.instantiate(this.bulletPrefab);\n        bullet.parent = this.bulletHolder;\n        bullet.position = position;\n    }\n});\n"]}