{"version":3,"sources":["../../../../assets/script/assets/script/soundScript.js"],"names":["Emitter","require","cc","Class","extends","Component","properties","soundButtonText","Label","swipeSound","AudioSource","combineSound","undoSound","gameWin","gameOver","_muted","onClickSound","node","children","forEach","element","getComponent","volume","string","_playSound","data","play","onLoad","instance","registerEvent","bind","start"],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAMA,UAAUC,QAAQ,UAAR,CAAhB;AACAC,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,yBAAiBL,GAAGM,KADZ;AAERC,oBAAYP,GAAGQ,WAFP;AAGRC,sBAAcT,GAAGQ,WAHT;AAIRE,mBAAWV,GAAGQ,WAJN;AAKRG,iBAASX,GAAGQ,WALJ;AAMRI,kBAAUZ,GAAGQ,WANL;AAORK,gBAAQ;AAPA,KAHP;;AAaL;;AAEAC,kBAAc,wBAAY;AACtB,YAAI,CAAC,KAAKD,MAAV,EAAkB;AACd,iBAAKE,IAAL,CAAUC,QAAV,CAAmBC,OAAnB,CAA2B;AAAA,uBAAWC,QAAQC,YAAR,CAAqBnB,GAAGQ,WAAxB,EAAqCY,MAArC,GAA8C,CAAzD;AAAA,aAA3B;AACA,iBAAKf,eAAL,CAAqBgB,MAArB,GAA8B,YAA9B;AACA,iBAAKR,MAAL,GAAc,IAAd;AACA;AACH;AACD,aAAKE,IAAL,CAAUC,QAAV,CAAmBC,OAAnB,CAA2B;AAAA,mBAAWC,QAAQC,YAAR,CAAqBnB,GAAGQ,WAAxB,EAAqCY,MAArC,GAA8C,CAAzD;AAAA,SAA3B;AACA,aAAKf,eAAL,CAAqBgB,MAArB,GAA8B,WAA9B;AACA,aAAKR,MAAL,GAAc,KAAd;AACA;AACH,KA1BI;;AA4BLS,gBAAY,oBAAUC,IAAV,EAAgB;AACxB,YAAIA,SAAS,OAAb,EAAsB;AAClB,iBAAKhB,UAAL,CAAgBiB,IAAhB;AACA;AACH;AACD,YAAID,SAAS,SAAb,EAAwB;AACpB,iBAAKd,YAAL,CAAkBe,IAAlB;AACA;AACH;;AAED,YAAID,SAAS,SAAb,EAAwB;AACpB,iBAAKZ,OAAL,CAAaa,IAAb;AACA;AACH;AACD,YAAID,SAAS,UAAb,EAAyB;AACrB,iBAAKX,QAAL,CAAcY,IAAd;AACA;AACH;AACD,YAAID,SAAS,MAAb,EAAqB;AACjB,iBAAKb,SAAL,CAAec,IAAf;AACA;AACH;AACJ,KAlDI;;AAoDLC,UApDK,oBAoDI;AACL3B,gBAAQ4B,QAAR,CAAiBC,aAAjB,CAA+B,OAA/B,EAAwC,KAAKL,UAAL,CAAgBM,IAAhB,CAAqB,IAArB,CAAxC;AACH,KAtDI;AAwDLC,SAxDK,mBAwDG,CAEP;AA1DI;;AA4DL;AA5DJ","file":"soundScript.js","sourceRoot":"../../../../assets/script","sourcesContent":["// Learn cc.Class:\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/class.html\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/class.html\n// Learn Attribute:\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/reference/attributes.html\n// Learn life-cycle callbacks:\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\n//  - [English] https://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html\n\nconst Emitter = require('mEmitter');\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        soundButtonText: cc.Label,\n        swipeSound: cc.AudioSource,\n        combineSound: cc.AudioSource,\n        undoSound: cc.AudioSource,\n        gameWin: cc.AudioSource,\n        gameOver: cc.AudioSource,\n        _muted: false,\n    },\n\n    // LIFE-CYCLE CALLBACKS:\n\n    onClickSound: function () {\n        if (!this._muted) {\n            this.node.children.forEach(element => element.getComponent(cc.AudioSource).volume = 0);\n            this.soundButtonText.string = 'Sounds OFF';\n            this._muted = true;\n            return;\n        }\n        this.node.children.forEach(element => element.getComponent(cc.AudioSource).volume = 1);\n        this.soundButtonText.string = 'Sounds ON';\n        this._muted = false;\n        return;\n    },\n\n    _playSound: function (data) {\n        if (data === 'swipe') {\n            this.swipeSound.play();\n            return;\n        }\n        if (data === 'combine') {\n            this.combineSound.play();\n            return;\n        }\n\n        if (data === 'gameWin') {\n            this.gameWin.play();\n            return;\n        }\n        if (data === 'gameOver') {\n            this.gameOver.play();\n            return;\n        }\n        if (data === 'undo') {\n            this.undoSound.play();\n            return;\n        }\n    },\n\n    onLoad() {\n        Emitter.instance.registerEvent('sound', this._playSound.bind(this));\n    },\n\n    start() {\n\n    },\n\n    // update (dt) {},\n});\n"]}